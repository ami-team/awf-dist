(()=>{var t={9438:function(t,e,i){var n,a,s;a=[],n=function(){"use strict";function e(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){l(n.response,e,i)},n.onerror=function(){console.error("could not download file")},n.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function s(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i.g&&i.g.global===i.g?i.g:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(t,e,i){var r=o.URL||o.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?s(l):a(l.href)?n(t,e,i):s(l,l.target="_blank")):(l.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,o),i);else if(a(t))n(t,i,o);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){s(r)}))}}:function(t,e,i,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,i);var s="application/octet-stream"===t.type,l=/constructor/i.test(o.HTMLElement)||o.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||s&&l||r)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=d?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},c.readAsDataURL(t)}else{var p=o.URL||o.webkitURL,h=p.createObjectURL(t);a?a.location=h:location.href=h,a=null,setTimeout((function(){p.revokeObjectURL(h)}),4e4)}});o.saveAs=l.saveAs=l,t.exports=l},void 0===(s="function"==typeof n?n.apply(e,a):n)||(t.exports=s)},8922:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,a,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(o[l]=!0)}for(var d=0;d<t.length;d++){var c=[].concat(t[d]);n&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),e.push(c))}},e}},7499:t=>{"use strict";t.exports=function(t){return t[1]}},4102:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var n=i(7499),a=i.n(n),s=i(8922),o=i.n(s)()(a());o.push([t.id,"/* TableCtrl.css */\n",""]);const r=o},3379:t=>{"use strict";var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var s={},o=[],r=0;r<t.length;r++){var l=t[r],d=n.base?l[0]+n.base:l[0],c=s[d]||0,p="".concat(d," ").concat(c);s[d]=c+1;var h=i(p),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(f);else{var m=a(f,n);n.byIndex=r,e.splice(r,0,{identifier:p,updater:m,references:1})}o.push(p)}return o}function a(t,e){var i=e.domAPI(e);i.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,a){var s=n(t=t||[],a=a||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var r=i(s[o]);e[r].references--}for(var l=n(t,a),d=0;d<s.length;d++){var c=i(s[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}s=l}}},569:t=>{"use strict";var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,i)=>{"use strict";t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var a=void 0!==i.layer;a&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,a&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(n){var a=e[n];if(void 0!==a)return a.exports;var s=e[n]={id:n,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nc=void 0,(()=>{"use strict";var t=i(3379),e=i.n(t),n=i(7795),a=i.n(n),s=i(569),o=i.n(s),r=i(3565),l=i.n(r),d=i(9216),c=i.n(d),p=i(4589),h=i.n(p),f=i(4102),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=o().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=c();e()(f.Z,m);f.Z&&f.Z.locals&&f.Z.locals;var u=/^\s+/,x=/^[a-zA-Z0-9_]+|^"(""|[^"])*"|^'(''|[^'])*'|^`(``|[^`])*`/;var _={SELECT:"SELECT",FROM:"FROM",WHERE:"WHERE",GROUP:"GROUP",ORDER:"ORDER",WAY:"WAY",LIMIT:"LIMIT",OFFSET:"OFFSET"};function b(t,e,i){var n={},a=0,s="",o=[],r="";(function(t){for(var e,i=[],n=0,a=t.length;n<a;)(e=t.substring(n).match(u))?(i.push(" "),n+=e[0].length):(e=t.substring(n).match(x))?(i.push(e[0]),n+=e[0].length):i.push(t[n++]);return i})(t).forEach((function(t){"("===(s=t.toUpperCase())?(o.push("("),a++):")"===s?(o.push(")"),a--):0===a&&s in _?(r&&(n[r]=o.join("").trim()),o=[],r=s):"BY"!==s&&("ORDER"!==r||"ASC"!==s&&"DESC"!==s?o.push(t):n.WAY=s)})),r&&(n[r]=o.join("").trim()),o=[],r=null;var l={};return n.ALIASES=l,i?e.forEach((function(t){l[amiWebApp.jspath("..@field",t)]={catalog:amiWebApp.jspath("..@catalog",t)[0],field:amiWebApp.jspath("..@field",t)[0],fieldAlias:amiWebApp.jspath("..@label",t)[0],table:amiWebApp.jspath("..@entity",t)[0],tableAlias:amiWebApp.jspath("..@entity",t)[0]}})):e.forEach((function(t){l[amiWebApp.jspath("..@field",t)]={catalog:"N/A",field:amiWebApp.jspath("..@field",t)[0],fieldAlias:amiWebApp.jspath("..@label",t)[0],table:amiWebApp.jspath("..@entity",t)[0],tableAlias:amiWebApp.jspath("..@entity",t)[0]}})),n}i(9438);$AMIClass("TableCtrl",{$extends:ami.Control,$init:function(t,e){this.$super.$init(t,e)},onReady:function(){const t=$.Deferred();return amiWebApp.loadResources(["ctrl:fieldEditor","ctrl:unitEditor","ctrl:tab"]).done((e=>{amiWebApp.appendHTML("body",'<div class="modal fade" role="dialog" id="C48564EA_A64D_98BA_6232_D03D524CAD08">\n\t<form class="modal-dialog modal-lg" role="document" id="F114E547_5E78_72D9_BB7F_355CDBB3D03A">\n\t\t<div class="modal-content">\n\t\t\t<div class="modal-header">\n\t\t\t\t<h4 class="modal-title"><i class="bi bi-funnel"></i> Filter</h4>\n\t\t\t</div>\n\t\t\t<div class="modal-body">\n\t\t\t\t<div class="mb-2">\n\t\t\t\t\t<label for="E95603E7_85A5_9CFC_50A3_6E3CDF7DE45C" class="form-label">Field « <strong id="E7014B57_B16A_7593_FA1B_0DD15C15AC3E"></strong> »</label>\n\t\t\t\t\t<select class="{% if BOOTSTRAP_VERSION > 4 %}form-select form-select-sm{% else %}custom-select custom-select-sm{% endif %}" name="filter" id="E95603E7_85A5_9CFC_50A3_6E3CDF7DE45C" onchange="var f = $(this).val(); if(f === \'2\' || f === \'3\' || f === \'4\' || f === \'5\' || f === \'6\' || f === \'7\' || f === \'8\' || f === \'9\') { $(\'#CAF8B5EB_1796_3837_5722_3B5B2A7C729B\').show(); $(\'#A24427DD_0DCB_3AC8_4A3E_A75D79FAA8F7\').hide(); } else if(f === \'10\' || f === \'11\') { $(\'#CAF8B5EB_1796_3837_5722_3B5B2A7C729B\').hide(); $(\'#A24427DD_0DCB_3AC8_4A3E_A75D79FAA8F7\').show(); } else { $(\'#CAF8B5EB_1796_3837_5722_3B5B2A7C729B\').hide(); $(\'#A24427DD_0DCB_3AC8_4A3E_A75D79FAA8F7\').hide(); }">\n\t\t\t\t\t\t<option value="" style="display: none;">Choose a filter</option>\n\t\t\t\t\t\t<option value="0">IS NULL</option>\n\t\t\t\t\t\t<option value="1">IS NOT NULL</option>\n\t\t\t\t\t\t<option value="2">EQUALS</option>\n\t\t\t\t\t\t<option value="3">NOT EQUALS</option>\n\t\t\t\t\t\t<option value="4">LIKE</option>\n\t\t\t\t\t\t<option value="5">NOT LIKE</option>\n\t\t\t\t\t\t<option value="6">&lt;</option>\n\t\t\t\t\t\t<option value="7">&lt;=</option>\n\t\t\t\t\t\t<option value="8">&gt;</option>\n\t\t\t\t\t\t<option value="9">&gt;=</option>\n\t\t\t\t\t\t<option value="10">BETWEEN</option>\n\t\t\t\t\t\t<option value="11">NOT BETWEEN</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<input type="hidden" name="x" class="xxxxxxxxxxxxxxxxxxxxxxxxxxxx" id="F3A040E1_40EE_97B3_45D6_E7BFB61DBF44" />\n\t\t\t\t<input type= "text"  name="y" class="form-control form-control-sm" id="CAF8B5EB_1796_3837_5722_3B5B2A7C729B" />\n\t\t\t\t<div class="input-group" id="A24427DD_0DCB_3AC8_4A3E_A75D79FAA8F7">\n\t\t\t\t\t<input type="text" name="y1" class="form-control" />\n\t\t\t\t\t<span class="input-group-text border-left-0 border-right-0 rounded-0 px-1">AND</span>\n\t\t\t\t\t<input type="text" name="y2" class="form-control" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="modal-footer">\n\t\t\t\t<button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>\n\t\t\t\t<button type="submit" class="btn btn-primary" id="CE7B4CA6_63C6_416B_A2BC_45B53CC5EF37">Refine</button>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n</div>\n').done((()=>{this.fragmentTableCtrl='\x3c!-- *************************************************************************************************************** --\x3e\n\n<style type="text/css">\n\n#FEF9E8D8_D4AB_B545_B394_C12DD5817D61 table th,\n#FEF9E8D8_D4AB_B545_B394_C12DD5817D61 table td,\n#FEF9E8D8_D4AB_B545_B394_C12DD5817D61 table span {\n\tfont-size: 14px;\n\tmin-height: 1.25rem;\n\twhite-space: nowrap;\n}\n\n#CDE5AD14_1268_8FA7_F5D8_0D690F3FB850,\n#FEF9E8D8_D4AB_B545_B394_C12DD5817D61 .edit-mode {\n\tdisplay: none;\n}\n\n/**/\n\n@media (min-width: 576px) {\n\n\t#F4B10C5C_47BC_2093_5269_EA03881409FA .input-group {\n\t\tmax-width: 300px;\n\t}\n}\n\n</style>\n\n\x3c!-- *************************************************************************************************************** --\x3e\n\n{% if showToolBar %}\n<nav class="navbar navbar-expand-lg navbar-light bg-light rounded-top border mb-1" style="padding: 0.1rem 0.75rem 0.1rem 1.0rem;">\n\n\t{% if BOOTSTRAP_VERSION > 4 %}\n\t<div class="container-fluid">\n\t{% endif %}\n\n\t\t<span class="navbar-brand">\n\t\t\t<a href="#" class="text-secondary" id="C8CB30DC_414F_7559_B618_42B7CC04F993" data-bs-toggle="tooltip" data-bs-placement="bottom" title="{{catalog|e}}::{{entity|e}}">\n\t\t\t\t<i class="bi bi-info-circle"></i>\n\t\t\t</a>\n\t\t</span>\n\n\t\t<button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#F4B10C5C_47BC_2093_5269_EA03881409FA">\n\t\t\t<span class="navbar-toggler-icon"></span>\n\t\t</button>\n\n\t\t<div class="collapse navbar-collapse" id="F4B10C5C_47BC_2093_5269_EA03881409FA">\n\n\t\t\t<div class="form-inline m{% if BOOTSTRAP_VERSION > 4 %}e{% else %}r{% endif %}-2 my-lg-0">\n\t\t\t\t<div class="input-group">\n\t\t\t\t\t{% if BOOTSTRAP_VERSION > 4 %}\n\t\t\t\t\t<button class="btn btn-outline-secondary" id="BA1A7EEA_2BB5_52F2_5BCF_64B0C381B570">\n\t\t\t\t\t\t<i class="bi bi-chevron-bar-left"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="btn btn-outline-secondary" id="BB126294_FFC2_24B8_8765_CF653EB950F7">\n\t\t\t\t\t\t<i class="bi bi-chevron-left"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t{% else %}\n\t\t\t\t\t<div class="input-group-prepend">\n\t\t\t\t\t\t<button class="btn btn-outline-secondary" id="BA1A7EEA_2BB5_52F2_5BCF_64B0C381B570">\n\t\t\t\t\t\t\t<i class="bi bi-chevron-bar-left"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class="btn btn-outline-secondary" id="BB126294_FFC2_24B8_8765_CF653EB950F7">\n\t\t\t\t\t\t\t<i class="bi bi-chevron-left"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{% endif %}\n\t\t\t\t\t<input class="form-control" type="text" id="DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB" value="{{start}}" pattern="[0-9]+" />\n\t\t\t\t\t<span class="input-group-text border-left-0 border-right-0 rounded-0 px-1"><i class="bi bi-dash"></i></span>\n\t\t\t\t\t<input class="form-control" type="text" id="BF85DC0E_C07E_DE5E_A65B_237FCA3D461C" value="{{stop}}" pattern="[0-9]+" />\n\t\t\t\t\t{% if BOOTSTRAP_VERSION > 4 %}\n\t\t\t\t\t<button class="btn btn-outline-secondary" id="E7FDF4C8_ECD2_3FE0_8C75_541E511239C2">\n\t\t\t\t\t\t<i class="bi bi-chevron-right"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="btn btn-outline-secondary" id="B7979619_196F_F39D_A893_17E5EDAA8628">\n\t\t\t\t\t\t<i class="bi bi-chevron-bar-right"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t{% else %}\n\t\t\t\t\t<div class="input-group-append">\n\t\t\t\t\t\t<button class="btn btn-outline-secondary" id="E7FDF4C8_ECD2_3FE0_8C75_541E511239C2">\n\t\t\t\t\t\t\t<i class="bi bi-chevron-right"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class="btn btn-outline-secondary" id="B7979619_196F_F39D_A893_17E5EDAA8628">\n\t\t\t\t\t\t\t<i class="bi bi-chevron-bar-right"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{% endif %}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="form-inline m{% if BOOTSTRAP_VERSION > 4 %}e{% else %}r{% endif %}-2 my-lg-0">\n\t\t\t\t<button type="button" class="btn btn-outline-secondary mr-2" id="D809166F_A40B_2376_C8A5_977AA0C8C408"><i class="bi bi-arrow-repeat"></i></button>\n\t\t\t</div>\n\n\t\t\t{% if canEdit and primaryField is not empty %}\n\t\t\t<div class="form-inline m{% if BOOTSTRAP_VERSION > 4 %}e{% else %}r{% endif %}-2 my-lg-0">\n\t\t\t\t<span class="switch switch-on-warning switch-off-secondary">\n\t\t\t\t\t<input type="checkbox" id="DDC32238_DD25_8354_AC6C_F6E27CA6E18D"{% if enableEditMode and canEdit %} checked="checked"{% endif %} />\n\t\t\t\t\t<label for="DDC32238_DD25_8354_AC6C_F6E27CA6E18D">\n\t\t\t\t\t\t<span class="text-secondary">view</span>\n\t\t\t\t\t\t/\n\t\t\t\t\t\t<span class="text-warning">edit</span>\n\t\t\t\t\t</label>\n\t\t\t\t</span>\n\t\t\t\t<button type="button" class="btn btn-outline-warning ami-table-plus ml-2" id="CDE5AD14_1268_8FA7_F5D8_0D690F3FB850"><i class="bi bi-plus-lg"></i></button>\n\t\t\t</div>\n\t\t\t{% endif %}\n\n\t\t\t<ul class="navbar-nav m{% if BOOTSTRAP_VERSION > 4 %}e{% else %}r{% endif %}-2 my-lg-0">\n\t\t\t\t<li class="nav-item dropdown">\n\t\t\t\t\t<a href="#" class="nav-link dropdown-toggle ami-table-export" data-bs-toggle="dropdown">Export</a>\n\t\t\t\t\t<div class="dropdown-menu" id="A49B2730_4FAB_F089_5864_41029D65BF05">\n\t{# \t\t\t\t\t<a href="#" class="dropdown-item" id="C9F4DBE7_EF4F_09F1_C31D_97581978BD13">XML</a>#}\n\t{# \t\t\t\t\t<a href="#" class="dropdown-item" id="A4B03239_52F9_5FBB_0799_C932B9E95FCD">JSON</a>#}\n\t{# \t\t\t\t\t<a href="#" class="dropdown-item" id="C6182164_9432_FA0C_5273_EFF56376660E">CSV</a>#}\n\t{# \t\t\t\t\t<div class="dropdown-divider"></div>#}\n\t{# \t\t\t\t\t<a href="#" class="dropdown-item" id="B8CCCCA1_9829_3EA5_280E_ED47FCD33ADE">Text</a>#}\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<ul class="navbar-nav m{% if BOOTSTRAP_VERSION > 4 %}e{% else %}r{% endif %}-2 my-lg-0">\n\t\t\t\t<li class="nav-item dropdown">\n\t\t\t\t\t<a href="#" class="nav-link dropdown-toggle ami-table-more" data-bs-toggle="dropdown">More</a>\n\t\t\t\t\t<div class="dropdown-menu">\n\t\t\t\t\t\t<a href="#" class="dropdown-item" id="CD458FEC_9AD9_30E8_140F_263F119961BE">View SQL query</a>\n\t\t\t\t\t\t<a href="#" class="dropdown-item" id="F4F0EB6C_6535_7714_54F7_4BC28C254872">View MQL query</a>\n\t\t\t\t\t\t<a href="#" class="dropdown-item" id="EF739EE0_DB79_0A4E_9FDD_7BA3C0F74F92">View command (with paging)</a>\n\t\t\t\t\t\t<a href="#" class="dropdown-item" id="D49853E2_9319_52C3_5253_A208F9500408">View command (without paging)</a>\n\t\t\t\t\t\t<div class="dropdown-divider"></div>\n\t\t\t\t\t\t<a href="#" class="dropdown-item" id="C50C3427_FEE5_F115_1FEC_6A6668763EC4">View JavaScript</a>\n\t\t\t\t\t\t<a href="#" class="dropdown-item" id="F1C79246_17B2_B9B0_3ABF_8C10FA0852DD">Add to Dashboard</a>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<span class="navbar-text m{% if BOOTSTRAP_VERSION > 4 %}s{% else %}l{% endif %}-auto" id="C57C824B_166C_4C23_F349_8B0C8E94114A"></span>\n\n\t\t\t<span class="navbar-text m{% if BOOTSTRAP_VERSION > 4 %}e{% else %}r{% endif %}-2">\n\t\t\t\t<button class="btn btn-link" type="button" id="E830DA2D_A52E_8012_D358_100821361270" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Bookmark this result">\n\t\t\t\t\t<i class="bi bi-star-fill text-secondary"></i>\n\t\t\t\t</button>\n\t\t\t</span>\n\n\t\t\t{% if isEmbedded %}\n\t\t\t<span class="navbar-text m{% if BOOTSTRAP_VERSION > 4 %}e{% else %}r{% endif %}-2 d-none d-lg-inline">\n\t\t\t\t<img src="{{ORIGIN_URL}}/images/logo.png" alt="AMI" height="24" />\n\t\t\t</span>\n\t\t\t{% endif %}\n\n\t\t</div>\n\n\t{% if BOOTSTRAP_VERSION > 4 %}\n\t</div>\n\t{% endif %}\n\n</nav>\n{% endif %}\n\n\x3c!-- *************************************************************************************************************** --\x3e\n\n<div class="pb-0 mb-4 unit-edit" id="FEF9E8D8_D4AB_B545_B394_C12DD5817D61" style="overflow-x: scroll;"></div>\n\n\x3c!-- *************************************************************************************************************** --\x3e\n',this.fragmentTable="{% if listOfRowSetName.length > 1 %}\n<ul class=\"nav nav-tabs\" role=\"tablist\" style=\"margin-bottom: -1px;\">\n\t{% for rowSetName in listOfRowSetName %}\n\t<li class=\"nav-item\"><a class=\"nav-link px-2 py-1 {% if loop.index0 === currentTabIndex %}active{% else %}xxxxx{% endif %}\" href=\"#CC05FC77_9364_97FB_E575_BE8190DCC295_{{loop.index0}}\" role=\"tab\" data-bs-toggle=\"tab\" data-tab-index=\"{{loop.index0}}\">{{rowSetName|e}}</a></li>\n\t{% endfor %}\n</ul>\n{% endif %}\n<div class=\"tab-content\">\n{% for i in range(0, listOfRows.length - 1) %}\n\n\t{% set fieldDescriptions = listOfFieldDescriptions[i] %}\n\n\t{% set rows = listOfRows[i] %}\n\n\t{% set primaryIdx = -1 %}\n\n\t{% for fieldDescription in fieldDescriptions %}\n\t{%   if fieldDescription['@field'] === primaryField %}\n\t{%     set primaryIdx = loop.index0 %}\n\t{%   endif %}\n\t{% endfor %}\n\n\t\x3c!-- *********************************************************************************************************** --\x3e\n\t<div class=\"tab-pane {% if loop.index0 === currentTabIndex %}active show{% else %}xxxxx xxxx{% endif %}\" id=\"CC05FC77_9364_97FB_E575_BE8190DCC295_{{i}}\">\n\t\t<table class=\"table table-sm table-hover table-striped table-bordered\">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t\x3c!-- ******************************************************************************************* --\x3e\n\t\t\t\t\t{% if showDetails and primaryIdx >= 0 %}\n\t\t\t\t\t<th class=\"text-center align-middle xxxxxxxxx\">details</th>\n\t\t\t\t\t{%   endif %}\n\t\t\t\t\t\x3c!-- ******************************************************************************************* --\x3e\n\t\t\t\t\t{% if canEdit and primaryIdx >= 0 %}\n\t\t\t\t\t<th class=\"text-center align-middle edit-mode\"> tools </th>\n\t\t\t\t\t{%   endif %}\n\t\t\t\t\t\x3c!-- ******************************************************************************************* --\x3e\n\t\t\t\t\t{% if fieldDescriptions is not empty %}\n\t\t\t\t\t{%   for fieldDescription in fieldDescriptions %}\n\t\t\t\t\t{%     if not (fieldDescription['@field'] in ignoredFields) and not (fieldDescription['@hidden'] === 'true') %}\n\t\t\t\t\t<th class=\"text-center\">\n\t\t\t\t\t\t<a href=\"#\" class=\"text-secondary\" data-orderway=\"DESC\" data-row-name=\"{{fieldDescription['@field']|e}}\" data-row-label=\"{{fieldDescription['@label']|e}}\"><i class=\"bi bi-chevron-down\"></i></a>\n\t\t\t\t\t\t<span class=\"text-primary\"{% if fieldDescription['$'] is not empty and fieldDescription['$'] !== 'N/A' %} data-bs-toggle=\"tooltip\" title=\"{{fieldDescription['$']|e}}\"{% endif %}>{{fieldDescription['@label']|e}}</span>\n\t\t\t\t\t\t<a href=\"#\" class=\"text-secondary\" data-orderway=\"ASC\" data-row-name=\"{{fieldDescription['@field']|e}}\" data-row-label=\"{{fieldDescription['@label']|e}}\"><i class=\"bi bi-chevron-up\"></i></a>\n\t\t\t\t\t\t{% if showTools %}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{%   if fieldDescription['@field'] is not empty %}\n\t\t\t\t\t\t<a href=\"#\" class=\"text-secondary mx-1\" data-action=\"refine\" data-catalog=\"{{fieldDescription['@catalog']|e}}\" data-entity=\"{{fieldDescription['@entity']|e}}\" data-field=\"{{fieldDescription['@field']|e}}\"><i class=\"bi bi-funnel\"></i></a>\n\t\t\t\t\t\t{%   endif %}\n\t\t\t\t\t\t{%   if fieldDescription['@statable'] === 'true' %}\n\t\t\t\t\t\t<a href=\"#\" class=\"text-secondary mx-1\" data-action=\"stats\" data-catalog=\"{{fieldDescription['@catalog']|e}}\" data-entity=\"{{fieldDescription['@entity']|e}}\" data-field=\"{{fieldDescription['@field']|e}}\"><i class=\"bi bi-calculator\"></i></a>\n\t\t\t\t\t\t<a href=\"#\" class=\"text-secondary mx-1\" data-action=\"hist\" data-catalog=\"{{fieldDescription['@catalog']|e}}\" data-entity=\"{{fieldDescription['@entity']|e}}\" data-field=\"{{fieldDescription['@field']|e}}\"><i class=\"bi bi-bar-chart\"></i></a>\n\t\t\t\t\t\t{%   endif %}\n\t\t\t\t\t\t{%   if fieldDescription['@groupable'] === 'true' %}\n\t\t\t\t\t\t<a href=\"#\" class=\"text-secondary mx-1\" data-action=\"group\" data-catalog=\"{{fieldDescription['@catalog']|e}}\" data-entity=\"{{fieldDescription['@entity']|e}}\" data-field=\"{{fieldDescription['@field']|e}}\"><i class=\"bi bi-slack\"></i></a>\n\t\t\t\t\t\t{%   endif %}\n\t\t\t\t\t\t{% endif %}\n\t\t\t\t\t</th>\n\t\t\t\t\t{%     endif %}\n\t\t\t\t\t{%   endfor %}\n\t\t\t\t\t{% else %}\n\t\t\t\t\t{%   if rows is not empty %}\n\t\t\t\t\t{%     for field in rows[0].field %}\n\t\t\t\t\t{%       if not field['@name'] in ignoredFields %}\n\t\t\t\t\t<th class=\"text-center\">\n\t\t\t\t\t\t<span class=\"text-primary\">{{field['@name']|e}}</span>\n\t\t\t\t\t</th>\n\t\t\t\t\t{%       endif %}\n\t\t\t\t\t{%     endfor %}\n\t\t\t\t\t{%   endif %}\n\t\t\t\t\t\x3c!-- ******************************************************************************************* --\x3e\n\t\t\t\t\t{% endif %}\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t\x3c!-- *************************************************************************************************** --\x3e\n\t\t\t<tbody>\n\t\t\t\t{% for row in rows %}\n\t\t\t\t{%   set hasFieldDescriptions = fieldDescriptions.length === row.field.length %}\n\t\t\t\t<tr>\n\t\t\t\t\t\x3c!-- ******************************************************************************************* --\x3e\n\t\t\t\t\t{% if showDetails and primaryIdx >= 0 and hasFieldDescriptions %}\n\t\t\t\t\t<td class=\"text-center align-middle xxxxxxxxx\">\n\t\t\t\t\t\t<a href=\"#\" class=\"text-secondary\" data-ctrl=\"elementInfo\" data-ctrl-location=\"container\" data-params=\"[&quot;{{fieldDescriptions[primaryIdx]['@catalog']|e('json')|e('html')}}&quot;,&quot;{{fieldDescriptions[primaryIdx]['@entity']|e('json')|e('html')}}&quot;,&quot;{{fieldDescriptions[primaryIdx]['@field']|e('json')|e('html')}}&quot;,&quot;{{row.field[primaryIdx].$|e('json')|e('html')}}&quot;]\" data-settings=\"{&quot;canEdit&quot;:{{canEdit}}}\" data-icon=\"arrows-alt\" data-title=\"{{fieldDescriptions[primaryIdx]['@entity']|e}}\"><i class=\"bi bi-arrows-fullscreen\"></i></a>\n\t\t\t\t\t</td>\n\t\t\t\t\t{% endif %}\n\t\t\t\t\t\x3c!-- ******************************************************************************************* --\x3e\n\t\t\t\t\t{% if canEdit and primaryIdx >= 0 and hasFieldDescriptions %}\n\t\t\t\t\t<td class=\"text-center align-middle edit-mode\">\n\t\t\t\t\t\t<a href=\"#\" class=\"text-info\" data-action=\"clone-row\" data-catalog=\"{{fieldDescriptions[primaryIdx]['@catalog']|e}}\" data-entity=\"{{fieldDescriptions[primaryIdx]['@entity']|e}}\" data-primary-field=\"{{fieldDescriptions[primaryIdx]['@field']|e}}\" data-primary-value=\"{{row.field[primaryIdx].$|e}}\"><i class=\"bi bi-files\"></i></a>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<a href=\"#\" class=\"text-danger\" data-action=\"delete-row\" data-catalog=\"{{fieldDescriptions[primaryIdx]['@catalog']|e}}\" data-entity=\"{{fieldDescriptions[primaryIdx]['@entity']|e}}\" data-primary-field=\"{{fieldDescriptions[primaryIdx]['@field']|e}}\" data-primary-value=\"{{row.field[primaryIdx].$|e}}\"><i class=\"bi bi-trash\"></i></a>\n\t\t\t\t\t</td>\n\t\t\t\t\t{% endif %}\n\t\t\t\t\t\x3c!-- ******************************************************************************************* --\x3e\n\t\t\t\t\t{% for field in row.field %}\n\t\t\t\t\t{%   if not (field['@name'] in ignoredFields) and not (hasFieldDescriptions and fieldDescriptions[loop.index0]['@hidden'] === 'true') %}\n\t\t\t\t\t<td class=\"text-center\">\n\t\t\t\t\t\t{% if field.$ starts with '@OWNER::' %}\n\t\t\t\t\t\t<a href=\"#\" data-action=\"filter\" data-filter-def=\"{{field.$|slice(8)|e}}\">\n\t\t\t\t\t\t\t<i class=\"bi bi-link\"></i>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{% elseif field.$ === '@NOGO' %}\n\t\t\t\t\t\t<div class=\"font-italic text-danger\">admin only</div>\n\t\t\t\t\t\t{% else %}\n\t\t\t\t\t\t<div style=\"min-height: 21px; padding-left: 6px; padding-right: 6px;\"\n\t\t\t\t\t\t\t {% if field['properties'] is defined and not (hasFieldDescriptions and fieldDescriptions[loop.index0]['@media'] === 'true') %}\n\t\t\t\t\t\t\t {%   if field['properties']['@id'] %}id=\"{{field['properties']['@id']|e}}\"{% endif %}\n\t\t\t\t\t\t\t {%   if field['properties']['@class'] %}class=\"{{field['properties']['@class']|e}}\"{% endif %}\n\t\t\t\t\t\t\t {%   if field['properties']['@onclick'] %}class=\"{{field['properties']['@onclick']|e}}\"{% endif %}\n\t\t\t\t\t\t\t {%   if field['properties']['@unitName'] %}data-unit-name=\"{{field['properties']['@unitName']|e}}\"{% endif %}\n\t\t\t\t\t\t\t {%   if field['properties']['@unitFactor'] %}data-unit-factor=\"{{field['properties']['@unitFactor']|e}}\"{% endif %}\n\t\t\t\t\t\t\t {%   if field['properties']['@unitBase'] %}data-unit-base=\"{{field['properties']['@unitBase']|e}}\"{% endif %}\n\t\t\t\t\t\t\t {%   if field['properties']['@humanReadable'] %}data-human-readable=\"{{field['properties']['@humanReadable']|e}}\"{% endif %}\n\t\t\t\t\t\t\t data-val=\"{{field.$|e}}\"\n\t\t\t\t\t\t\t {% endif %}\n\t\t\t\t\t\t\t {% if primaryIdx >= 0 and fieldDescriptions[loop.index0]['@automatic'] !== 'true' and fieldDescriptions[loop.index0]['@created'] !== 'true' and fieldDescriptions[loop.index0]['@createdBy'] !== 'true' and fieldDescriptions[loop.index0]['@modified'] !== 'true' and fieldDescriptions[loop.index0]['@modifiedBy'] !== 'true' %}\n\t\t\t\t\t\t\t data-action=\"edit-row\"\n\t\t\t\t\t\t\t data-catalog=\"{{fieldDescriptions[loop.index0]['@catalog']|e}}\"\n\t\t\t\t\t\t\t data-entity=\"{{fieldDescriptions[loop.index0]['@entity']|e}}\"\n\t\t\t\t\t\t\t data-field=\"{{fieldDescriptions[loop.index0]['@field']|e}}\"\n\t\t\t\t\t\t\t data-type=\"{{fieldDescriptions[loop.index0]['@type']|e}}\"\n\t\t\t\t\t\t\t data-primary-catalog=\"{{fieldDescriptions[primaryIdx]['@catalog']|e}}\"\n\t\t\t\t\t\t\t data-primary-entity=\"{{fieldDescriptions[primaryIdx]['@entity']|e}}\"\n\t\t\t\t\t\t\t data-primary-field=\"{{fieldDescriptions[primaryIdx]['@field']|e}}\"\n\t\t\t\t\t\t\t data-primary-value=\"{{row.field[primaryIdx].$|e}}\"\n\t\t\t\t\t\t\t {% endif %}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{% if hasFieldDescriptions and fieldDescriptions[loop.index0]['@media'] === 'true' and field.$ !== '@NULL' %}\n\t\t\t\t\t\t\t{%   if primaryIdx >= 0 %}\n\t\t\t\t\t\t\t<a href=\"#\" class=\"view-media\" data-ctrl=\"{{fieldDescriptions[loop.index0]['@ctrl']}}\" data-ctrl-location=\"container\" data-params=\"[&quot;{{fieldDescriptions[primaryIdx]['@catalog']|e('json')|e('html')}}&quot;,&quot;{{fieldDescriptions[primaryIdx]['@entity']|e('json')|e('html')}}&quot;,&quot;{{fieldDescriptions[primaryIdx]['@field']|e('json')|e('html')}}&quot;,&quot;{{row.field[primaryIdx].$|e('json')|e('html')}}&quot;,&quot;{{field['@name']|e('json')|e('html')}}&quot;,&quot;{{fieldDescriptions[loop.index0]['@base64']|e('json')|e('html')}}&quot;,&quot;{{fieldDescriptions[loop.index0]['@mime']|e('json')|e('html')}}&quot;]\" data-settings=\"{}\" data-icon=\"picture-o\" data-title=\"media\"><i class=\"bi bi-zoom-in\"></i></a> {{fieldDescriptions[loop.index0]['@mime']|e}}\n\t\t\t\t\t\t\t{%   else %}\n\t\t\t\t\t\t\t<i class=\"bi bi-zoom-in text-danger\"></i> {{fieldDescriptions[loop.index0]['@mime']|e}}\n\t\t\t\t\t\t\t{%   endif %}\n\t\t\t\t\t\t\t{% elseif hasFieldDescriptions and fieldDescriptions[loop.index0]['@json'] === 'true' %}\n\t\t\t\t\t\t\t<a href=\"#\" class=\"view-more\" data-ctrl=\"textBox\" data-ctrl-location=\"body\" data-params=\"[&quot;{{field.$|e('json')|e}}&quot;]\" data-settings=\"{&quot;mode&quot;:&quot;json&quot;}\"><i class=\"bi bi-zoom-in\"></i></a> {{field.$|slice(0, maxCellLength)|e}}…\n\t\t\t\t\t\t\t{% else %}\n\t\t\t\t\t\t\t{%   if (field.$|length) > maxCellLength %}\n\t\t\t\t\t\t\t<a href=\"#\" class=\"view-more\" data-ctrl=\"textBox\" data-ctrl-location=\"body\" data-params=\"[&quot;{{field.$|e('js')|e}}&quot;]\" data-settings=\"{}\"><i class=\"bi bi-zoom-in\"></i></a> {{field.$|slice(0, maxCellLength)|e}}…\n\t\t\t\t\t\t\t{%   else %}\n\t\t\t\t\t\t\t{%     if     field.$ === '@LONG' %}\n\t\t\t\t\t\t\t<div class=\"font-italic text-secondary\">long value</div>\n\t\t\t\t\t\t\t{%     elseif field.$ === '@NULL' %}\n\t\t\t\t\t\t\t<div class=\"font-italic text-secondary\">null value</div>\n\t\t\t\t\t\t\t{%     else %}\n\t\t\t\t\t\t\t{{field.$|e}}\n\t\t\t\t\t\t\t{%     endif %}\n\t\t\t\t\t\t\t{%   endif %}\n\t\t\t\t\t\t\t{% endif %}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{%   if field['links'] is defined %}\n\t\t\t\t\t\t{%     for link in field['links'] %}\n\t\t\t\t\t\t{%       if not loop.first %} - {% endif %}\n\t\t\t\t\t\t<{% if link['@href'] or link['@data-ctrl'] %}a href=\"{{link['@href']|e}}\"{% else %}span{% endif %}\n\t\t\t\t\t\t   {% if link['@target'] %}target=\"{{link['@target']|e}}\"{% endif %}\n\t\t\t\t\t\t   {% if link['@id'] %}id=\"{{link['@id']|e}}\"{% endif %}\n\t\t\t\t\t\t   {% if link['@class'] %}class=\"{{link['@class']|e}}\"{% endif %}\n\t\t\t\t\t\t   {% if link['@data-ctrl'] %}data-ctrl=\"{{link['@data-ctrl']|e}}\"{% endif %}\n\t\t\t\t\t\t   {% if link['@data-ctrl-location'] %}data-ctrl-location=\"{{link['@data-ctrl-location']|e}}\"{% endif %}\n\t\t\t\t\t\t   {% if link['@data-params'] %}data-params=\"{{link['@data-params']|e}}\"{% endif %}\n\t\t\t\t\t\t   {% if link['@data-settings'] %}data-settings=\"{{link['@data-settings']|e}}\"{% endif %}\n\t\t\t\t\t\t   {% if link['@data-icon'] %}data-icon=\"{{link['@data-icon']|e}}\"{% endif %}\n\t\t\t\t\t\t   {% if link['@data-title'] %}data-title=\"{{link['@data-title']|e}}\"{% endif %}>\n\t\t\t\t\t\t\t{% if link['@escape'] === 'true' %}\n\t\t\t\t\t\t\t{{link['@label']|e}}\n\t\t\t\t\t\t\t{% else %}\n\t\t\t\t\t\t\t{{link['@label']}}\n\t\t\t\t\t\t\t{% endif %}\n\t\t\t\t\t\t</{% if link['@href'] %}a{% else %}span{% endif %}>\n\t\t\t\t\t\t{%     endfor %}\n\t\t\t\t\t\t{%   endif %}\n\t\t\t\t\t\t{% endif %}\n\t\t\t\t\t</td>\n\t\t\t\t\t{%   endif %}\n\t\t\t\t\t{% endfor %}\n\t\t\t\t\t\x3c!-- ******************************************************************************************* --\x3e\n\t\t\t\t</tr>\n\t\t\t\t{% else %}\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"text-center text-warning\" colspan=\"999\">empty table</td>\n\t\t\t\t</tr>\n\t\t\t\t{% endfor %}\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n\t\x3c!-- *********************************************************************************************************** --\x3e\n{% endfor %}\n</div>\n",this.fragmentJS="<script type=\"text/javascript\" src=\"{{ ORIGIN_URL }}/js/ami.min.js?embedded\"><\/script>\n\n<script type=\"text/javascript\">\n\n\tvar myTable;\n\n\tamiWebApp.onRefresh = function(isAuth) {\n\n\t\tif(isAuth)\n\t\t{\n\t\t\tmyTable.render('#myTable', '{{ command|e('js') }}', {\n\t\t\t\tcustomLabelsFragment: '{{ customLabelsFragment|e('js') }}',\n\t\t\t\tcustomInputsFragment: '{{ customInputsFragment|e('js') }}',\n\t\t\t\tcustomHTMLsFragment: '{{ customHTMLsFragment|e('js') }}',\n\t\t\t\t/**/\n\t\t\t\texpandedLinkedElements: [{{ expandedLinkedElements|join(', ')|e('js') }}],\n\t\t\t\t/**/\n\t\t\t\tenableCache: {{ enableCache }},\n\t\t\t\tenableCount: {{ enableCount }},\n\t\t\t\tenableEditMode: {{ enableEditMode }},\n\t\t\t\t/**/\n\t\t\t\thideBigContent: {{ hideBigContent }},\n\t\t\t\t/**/\n\t\t\t\tshowPrimaryField: {{ showPrimaryField }},\n\t\t\t\tshowToolBar: {{ showToolBar }},\n\t\t\t\tshowDetails: {{ showDetails }},\n\t\t\t\tshowTools: {{ showTools }},\n\t\t\t\tshowEditTools: {{ showEditTools }},\n\t\t\t\tcanEdit: {{ canEdit }},\n\t\t\t\t/**/\n\t\t\t\tcatalog: '{{ catalog|e('js') }}',\n\t\t\t\tentity: '{{ entity|e('js') }}',\n\t\t\t\tprimaryField: '{{ primaryField|e('js') }}',\n\t\t\t\trowset: '{{ rowset|e('js') }}',\n\t\t\t\t/**/\n\t\t\t\tstart: {{ start }},\n\t\t\t\tstop: {{ stop }},\n\t\t\t\torderBy: '{{ orderBy|e('js') }}',\n\t\t\t\torderWay: '{{ orderWay|e('js') }}',\n\t\t\t\t/**/\n\t\t\t\tmaxCellLength: {{ maxCellLength }},\n\t\t\t\t/**/\n\t\t\t\tcard: {{ card }},\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$('#myTable').empty();\n\t\t}\n\t};\n\n\tamiWebApp.onReady = function() {\n\n\t\treturn amiWebApp.loadResources(['ctrl:table']).done(function(ctrls) {\n\n\t\t\tmyTable = new ctrls[0];\n\t\t});\n\t};\n\n\tamiWebApp.start({\n\t\tendpoint_url: '{{ endpoint }}'\n\t});\n\n<\/script>\n\n<div id=\"myTable\"></div>",this.fragmentExport='{% if xslts %}\n    {% for xslt in xslts %}\n<a href="#" class="dropdown-item" xslt="{{ xslt }}">{{ xslt.replace(/AMIXmlTo(.*)\\.xsl/g, $1) }}</a>\n    {% endfor %}\n<div class="dropdown-divider"></div>\t\n{% endif %}\n\n\x3c!-- **************************************************************** --\x3e\n\n<a href="#" class="dropdown-item" xslt="AMIXmlToXml.xsl">XML</a>\n<a href="#" class="dropdown-item" xslt="AMIXmlToJson.xsl">JSON</a>\n<a href="#" class="dropdown-item" xslt="AMIXmlToCsv.xsl">CSV</a>\n<div class="dropdown-divider"></div>\n<a href="#" class="dropdown-item" xslt="AMIXmlToText.xsl">Text</a>\n',this.fieldEditorCtor=e[0],this.fieldUnitCtor=e[1],this.tabCtor=e[2],t.resolve()}))})).fail((e=>{t.reject(e)})),t},render:function(t,e,i){amiWebApp.lock();const n=$.Deferred();return this.setupCtx({ignoredFields:{ORACLE_ROWNUM:"",PROJECT:"",PROCESS:"",AMIENTITYNAME:"",AMIELEMENTID:"",AMICREATED:"",AMILASTMODIFIED:"",AMISYSDATE:""},isEmbedded:amiWebApp.isEmbedded(),endpoint:amiCommand.endpoint,command:e.trim(),mql:"N/A",sql:"N/A",ast:"N/A",currentTabIndex:0},{context:n,customLabelsFragment:null,customInputsFragment:null,customHTMLsFragment:null,expandedLinkedElements:[],enableCache:!1,enableCount:!0,enableEditMode:!1,hideBigContent:!0,showPrimaryField:!0,showToolBar:!0,showDetails:!0,showTools:!0,showEditTools:!0,canEdit:amiLogin.hasRole("AMI_ADMIN")||amiLogin.hasRole("AMI_WRITER"),catalog:"",entity:"",primaryField:"",rowset:"",start:1,stop:10,orderBy:"",orderWay:"",maxCellLength:64,card:!1,onRefresh:null},i),this.fieldEditor=new this.fieldEditorCtor(this,this),this.unitEditor=new this.fieldUnitCtor(this,this),this.ctx.canEdit||(this.ctx.showDetails||this.ctx.showTools)&&!this.ctx.primaryField?this.fieldEditor.getInfo(this.ctx.catalog,this.ctx.entity,this.ctx.primaryField).done((e=>{this.ctx.primaryField=e,this.ctx.showDetails=this.ctx.showDetails&&!!e,this.ctx.showTools=this.ctx.showTools&&!!e,this.ctx.canEdit=this.ctx.canEdit&&!!e,this._render(n,t)})).fail((()=>{this.ctx.showDetails=this.ctx.showDetails&&!!this.ctx.primaryField,this.ctx.showTools=this.ctx.showTools&&!!this.ctx.primaryField,this.ctx.canEdit=!1,this._render(n,t)})):(this.ctx.showDetails=this.ctx.showDetails&&!!this.ctx.primaryField,this.ctx.showTools=this.ctx.showTools&&!!this.ctx.primaryField,this.ctx.canEdit=!1,this._render(n,t)),n.always((()=>{amiWebApp.unlock()}))},_render:function(t,e){if("TabCtrl"!==this.getParent().$name){const i=new this.tabCtor(null,this);i.render(e,this.ctx).done((()=>{i.appendItem(`<i class="bi bi-table"></i> ${this.ctx.entity}`,{closable:!1,firstVisible:this.ctx.card}).done((e=>{this.setParent(i),this.__render(t,e)}))}))}else this.__render(t,e)},__render:function(t,e){this.replaceHTML(e,this.fragmentTableCtrl,{dict:this.ctx}).done((()=>{$(this.patchId("#BA1A7EEA_2BB5_52F2_5BCF_64B0C381B570")).click((()=>{this.firstPage().fail((t=>{amiWebApp.error(t,!0)}))})),$(this.patchId("#BB126294_FFC2_24B8_8765_CF653EB950F7")).click((()=>{this.prevPage().fail((t=>{amiWebApp.error(t,!0)}))})),$(this.patchId("#E7FDF4C8_ECD2_3FE0_8C75_541E511239C2")).click((()=>{this.nextPage().fail((t=>{amiWebApp.error(t,!0)}))})),$(this.patchId("#B7979619_196F_F39D_A893_17E5EDAA8628")).click((()=>{this.lastPage().fail((t=>{amiWebApp.error(t,!0)}))})),$(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).keypress((t=>{13==t.keyCode&&this.refresh().fail((t=>{amiWebApp.error(t,!0)}))})),$(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).keypress((t=>{13==t.keyCode&&this.refresh().fail((t=>{amiWebApp.error(t,!0)}))})),$(this.patchId("#D809166F_A40B_2376_C8A5_977AA0C8C408")).click((()=>{this.refresh().fail((t=>{amiWebApp.error(t,!0)}))})),$(this.patchId("#DDC32238_DD25_8354_AC6C_F6E27CA6E18D")).change((()=>{this.setMode()})),$(this.patchId("#CDE5AD14_1268_8FA7_F5D8_0D690F3FB850")).click((()=>{this.showRowModal()})),amiWebApp.lock(),amiCommand.execute("ListConverters").done((t=>{var e=amiWebApp.jspath('..field{.@name==="xslt" && .$!=="AMIXmlToXml.xsl" && .$!=="AMIXmlToJson.xsl" && .$!=="AMIXmlToCsv.xsl" && .$!=="AMIXmlToText.xsl" }.$',t)||[];this.replaceHTML(this.patchId("#A49B2730_4FAB_F089_5864_41029D65BF05"),this.fragmentExport,{dict:this.ctx,xslts:e}).done((()=>{$(`${this.patchId("#A49B2730_4FAB_F089_5864_41029D65BF05")} a`).click((t=>{this.exportResult(t.currentTarget.getAttribute("xslt"))}))})),amiWebApp.unlock()})).fail(((t,e)=>{amiWebApp.error(e)})),$(this.patchId("#C8CB30DC_414F_7559_B618_42B7CC04F993")).click((t=>{$(t.currentTarget).tooltip("hide"),amiWebApp.createControl(this.getParent(),this,"editBox",[this.ctx.command],{}).done(((t,e)=>{this.ctx.command=e,this.refresh().fail((t=>{amiWebApp.error(t,!0)}))}))})),$(this.patchId("#E830DA2D_A52E_8012_D358_100821361270")).click((()=>{const t={command:this.ctx.command2,catalog:this.ctx.catalog,entity:this.ctx.entity,primaryField:this.ctx.primaryField,rowset:this.ctx.rowset,start:this.ctx.start,stop:this.ctx.stop,orderBy:this.ctx.orderBy,orderWay:this.ctx.orderWay,maxCellLength:this.ctx.maxCellLength};amiWebApp.createControl(this.getParent(),this,"bookmarkBox",["TableViewer",t])})),$(this.patchId("#CD458FEC_9AD9_30E8_140F_263F119961BE")).click((()=>{amiWebApp.createControl(this.getParent(),this,"textBox",[this.ctx.sql,{lang:"sql"}])})),$(this.patchId("#F4F0EB6C_6535_7714_54F7_4BC28C254872")).click((()=>{amiWebApp.createControl(this.getParent(),this,"textBox",[this.ctx.mql,{lang:"mql"}])})),$(this.patchId("#EF739EE0_DB79_0A4E_9FDD_7BA3C0F74F92")).click((()=>{amiWebApp.createControl(this.getParent(),this,"textBox",[this.ctx.command2.startsWith("BrowseQuery")?`SearchQuery${this.ctx.command2.substring(11)}`:this.ctx.command2,{lang:"shell"}])})),$(this.patchId("#D49853E2_9319_52C3_5253_A208F9500408")).click((()=>{amiWebApp.createControl(this.getParent(),this,"textBox",[this.ctx.command.startsWith("BrowseQuery")?`SearchQuery${this.ctx.command.substring(11)}`:this.ctx.command,{lang:"shell"}])})),$(this.patchId("#C50C3427_FEE5_F115_1FEC_6A6668763EC4")).click((()=>{amiWebApp.createControl(this.getParent(),this,"textBox",[this.ctx.js,{lang:"javascript"}])})),$(this.patchId("#F1C79246_17B2_B9B0_3ABF_8C10FA0852DD")).click((()=>{const t=[this.ctx.command],e={elementInfoCommandFunc:this.ctx.elementInfoCommandFunc,appendCommandFunc:this.ctx.appendCommandFunc,updateCommandFunc:this.ctx.updateCommandFunc,removeCommandFunc:this.ctx.removeCommandFunc,customLabelsFragment:this.ctx.customLabelsFragment,customInputsFragment:this.ctx.customInputsFragment,customHTMLsFragment:this.ctx.customHTMLsFragment,enableCache:this.ctx.enableCache,enableCount:this.ctx.enableCount,enableEditMode:this.ctx.enableEditMode,hideBigContent:this.ctx.hideBigContent,showPrimaryField:this.ctx.showPrimaryField,showToolBar:this.ctx.showToolBar,showDetails:this.ctx.showDetails,showTools:this.ctx.showTools,canEdit:this.ctx.canEdit,catalog:this.ctx.catalog,entity:this.ctx.entity,primaryField:this.ctx.primaryField,rowset:this.ctx.rowset,start:this.ctx.start,stop:this.ctx.stop,orderBy:this.ctx.orderBy,orderWay:this.ctx.orderWay,maxCellLength:this.ctx.maxCellLength,card:this.ctx.card},i=confirm("Auto-refresh new widget?");amiWebApp.lock(),amiCommand.execute(`AddWidget -control="Table" -params="${amiWebApp.textToString(JSON.stringify(t))}" -settings="${amiWebApp.textToString(JSON.stringify(e))}" -transparent${i?" -autoRefresh":""}`).done(((t,e)=>{amiWebApp.success(e)})).fail(((t,e)=>{amiWebApp.error(e)}))})),this.refresh().done(((e,i,n,a,s,o)=>{t.resolveWith(this.ctx.context,[e,i,n,a,s,o])})).fail((e=>{t.rejectWith(this.ctx.context,[e])}))}))},parsePageNumber:function(t,e){const i=parseInt(t);return!1===Number.isNaN(i)&&i>0?i:e},getOffsetOfLastPage:function(t){const e=this.ctx.totalNumberOfRows%t;return this.ctx.totalNumberOfRows>e?this.ctx.totalNumberOfRows-e+1:1},firstPage:function(){const t=this.parsePageNumber($(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(),this.ctx.start),e=1+(this.parsePageNumber($(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(),this.ctx.stop)-t+1)-1;return $(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(1),$(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(e),this.refresh()},lastPage:function(){const t=this.parsePageNumber($(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(),this.ctx.start),e=this.parsePageNumber($(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(),this.ctx.stop)-t+1,i=this.getOffsetOfLastPage(e),n=i+e-1;return $(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(i),$(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(n),this.refresh()},prevPage:function(){const t=this.parsePageNumber($(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(),this.ctx.start),e=this.parsePageNumber($(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(),this.ctx.stop),i=e-t+1,n=t-i,a=e-i;return n>=1&&a>=1?($(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(n),$(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(a)):($(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(1),$(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(i)),this.refresh()},nextPage:function(){const t=this.parsePageNumber($(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(),this.ctx.start),e=this.parsePageNumber($(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(),this.ctx.stop),i=e-t+1,n=t+i,a=e+i;return n>=1&&a>=1?($(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(n),$(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(a)):($(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(1),$(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(i)),this.refresh()},refresh:function(t){amiWebApp.lock();const e=$.Deferred(),[i]=amiWebApp.setup(["context"],[e],t);this.ctx.command2=this.ctx.command,(this.ctx.orderBy=this.ctx.orderBy.trim())&&(this.ctx.command2+=` -orderBy="${this.ctx.orderBy}"`,(this.ctx.orderWay=this.ctx.orderWay.trim())&&(this.ctx.command2+=` -orderWay="${this.ctx.orderWay}"`));const n=this.parsePageNumber($(this.patchId("#DBE5AEB2_FF3E_F781_4DF9_30D97462D9BB")).val(),this.ctx.start),a=this.parsePageNumber($(this.patchId("#BF85DC0E_C07E_DE5E_A65B_237FCA3D461C")).val(),this.ctx.stop);return this.ctx.command2+=` -limit="${a-n+1}"`,this.ctx.command2+=` -offset="${0+n-1}"`,amiCommand.execute(`${this.ctx.command2}${this.ctx.enableCache?" -cached":""}${this.ctx.enableCount?" -count":""}${this.ctx.hideBigContent?" -hideBigContent":""}`).done((t=>{const n=this.ctx.rowset?amiWebApp.jspath(`..fieldDescriptions{.@rowset==="${this.ctx.rowset}"}`,t):amiWebApp.jspath("..fieldDescriptions",t),a=this.ctx.rowset?amiWebApp.jspath(`..rowset{.@type==="${this.ctx.rowset}"}`,t):amiWebApp.jspath("..rowset",t),s=n.map((t=>t.fieldDescription||[])),o=a.map((t=>t["@type"]||"result")),r=a.map((t=>t.row||[]));this.ctx.sql=amiWebApp.jspath(".@sql",a)[0]||"N/A",this.ctx.mql=amiWebApp.jspath(".@mql",a)[0]||"N/A",this.ctx.ast=amiWebApp.jspath(".@ast",a)[0]||"N/A",this.ctx.numberOfRows=r.map((t=>t.length)).reduce(((t,e)=>t+e),0),this.ctx.maxNumberOfRows=amiWebApp.jspath("..@maxNumberOfRows",a).map((t=>parseInt(t))).reduce(((t,e)=>t+e),0),this.ctx.totalNumberOfRows=amiWebApp.jspath("..@totalNumberOfRows",a).map((t=>parseInt(t))).reduce(((t,e)=>t+e),0),this.ctx.listOfFieldDescriptions=s,"N/A"===this.ctx.sql?$(this.patchId("#CD458FEC_9AD9_30E8_140F_263F119961BE")).hide():$(this.patchId("#CD458FEC_9AD9_30E8_140F_263F119961BE")).show(),"N/A"===this.ctx.mql?$(this.patchId("#F4F0EB6C_6535_7714_54F7_4BC28C254872")).hide():$(this.patchId("#F4F0EB6C_6535_7714_54F7_4BC28C254872")).show(),"N/A"===this.ctx.ast?$(this.patchId("#E2EB6136_7358_875A_2857_8766E9B3036E")).hide():$(this.patchId("#E2EB6136_7358_875A_2857_8766E9B3036E")).show(),Number.isNaN(this.ctx.totalNumberOfRows)?$(this.patchId("#B7979619_196F_F39D_A893_17E5EDAA8628")).prop("disabled",!0):$(this.patchId("#B7979619_196F_F39D_A893_17E5EDAA8628")).prop("disabled",!1);const l={primaryField:this.ctx.primaryField,ignoredFields:this.ctx.ignoredFields,listOfFieldDescriptions:s,listOfRowSetName:o,listOfRows:r,currentTabIndex:this.ctx.currentTabIndex,maxCellLength:this.ctx.maxCellLength,showPrimaryField:this.ctx.showPrimaryField,showToolBar:this.ctx.showToolBar,showDetails:this.ctx.showDetails,showTools:this.ctx.showTools,canEdit:this.ctx.canEdit};this.replaceHTML(this.patchId("#FEF9E8D8_D4AB_B545_B394_C12DD5817D61"),this.fragmentTable,{dict:l}).done((()=>{const t=$(this.patchId("#FEF9E8D8_D4AB_B545_B394_C12DD5817D61"));t.find('a[data-orderway="DESC"]').click((t=>{t.preventDefault();const e=t.currentTarget.getAttribute("data-row-name"),i=t.currentTarget.getAttribute("data-row-label");this.ctx.orderBy=e===i||i.startsWith("`")&&i.endsWith("`")?i:`\`${i.replace(/`/g,"``")}\``,this.ctx.orderWay="DESC",this.refresh()})),t.find('a[data-orderway="ASC"]').click((t=>{t.preventDefault();const e=t.currentTarget.getAttribute("data-row-name"),i=t.currentTarget.getAttribute("data-row-label");this.ctx.orderBy=e===i||i.startsWith("`")&&i.endsWith("`")?i:`\`${i.replace(/`/g,"``")}\``,this.ctx.orderWay="ASC",this.refresh()})),t.find('a[data-action="refine"]').click((t=>{t.preventDefault(),this.showRefineModal(t.currentTarget.getAttribute("data-catalog"),t.currentTarget.getAttribute("data-entity"),t.currentTarget.getAttribute("data-field"))})),t.find('a[data-action="stats"]').click((t=>{t.preventDefault(),this.showStatsTab(t.currentTarget.getAttribute("data-catalog"),t.currentTarget.getAttribute("data-entity"),t.currentTarget.getAttribute("data-field"))})),t.find('a[data-action="hist"]').click((t=>{t.preventDefault(),this.showHistTab(t.currentTarget.getAttribute("data-catalog"),t.currentTarget.getAttribute("data-entity"),t.currentTarget.getAttribute("data-field"))})),t.find('a[data-action="group"]').click((t=>{t.preventDefault(),this.showGroupTab(t.currentTarget.getAttribute("data-catalog"),t.currentTarget.getAttribute("data-entity"),t.currentTarget.getAttribute("data-field"))})),t.find("[data-tab-index]").click((t=>{this.ctx.currentTabIndex=parseInt(t.currentTarget.getAttribute("data-tab-index"))})),t.find("[data-ctrl]").click((t=>{t.preventDefault(),this.createControlFromWebLink(this.getParent(),t.currentTarget,{})})),t.find('a[data-action="filter"]').click((t=>{t.preventDefault();const e=t.currentTarget.getAttribute("data-filter-def").split("::");2===e.length&&this.getOwner().refineResult("2",e[0],e[1])})),this.fieldEditor.setup(this.patchId("#FEF9E8D8_D4AB_B545_B394_C12DD5817D61"),this.ctx),this.unitEditor.setup(this.patchId("#FEF9E8D8_D4AB_B545_B394_C12DD5817D61")),this.setMode(),this.ctx.js=amiWebApp.formatTWIG(this.fragmentJS,this.ctx);const n=[];Number.isNaN(this.ctx.numberOfRows)||n.push(`shown: ${this.ctx.numberOfRows}`),Number.isNaN(this.ctx.totalNumberOfRows)||n.push(`total: ${this.ctx.totalNumberOfRows}`);const a=$(this.patchId("#C57C824B_166C_4C23_F349_8B0C8E94114A"));if(!Number.isNaN(this.ctx.maxNumberOfRows)){const t=`maximum number of showable rows: ${this.ctx.maxNumberOfRows}`;a.attr(amiWebApp.bootstrapVersion>4?"data-bs-toggle":"data-toggle","tooltip").attr("title",t).tooltip("dispose").tooltip()}a.text(n.join(", ")),this.ctx.onRefresh&&this.ctx.onRefresh(this),amiWebApp.unlock(),e.resolveWith(i,[s,r,this.ctx.sql,this.ctx.mql,this.ctx.ast,this.ctx.totalNumberOfRows])}))})).fail(((t,n)=>{amiWebApp.unlock(),e.rejectWith(i,[n])})),e},exportResult:function(t){amiWebApp.lock(),amiCommand.execute(this.ctx.command,{converter:t}).done((function(e){var i,n;"AMIXmlToXml.xsl"===t?(i="application/xml",n="result.xml"):"AMIXmlToJson.xsl"===t?(i="application/json",n="result.json"):"AMIXmlToCsv.xsl"===t?(i="text/csv",n="result.csv"):(i="text/plain",n="result.txt"),saveAs(new Blob([e],{type:i}),n),amiWebApp.unlock()})).fail(((t,e)=>{amiWebApp.error(e,!0)}))},isInEditMode:function(){return this.fieldEditor.isInEditMode()},setMode:function(){const t=$(this.patchId("#FEF9E8D8_D4AB_B545_B394_C12DD5817D61")),e=$(this.patchId("#CDE5AD14_1268_8FA7_F5D8_0D690F3FB850")),i=t.find(".edit-mode"),n=t.find(".view-more"),a=t.find(".view-media");$(this.patchId("#DDC32238_DD25_8354_AC6C_F6E27CA6E18D")).prop("checked")?(this.ctx.showEditTools?(e.show(),i.show()):(e.hide(),i.hide()),n.hide(),a.hide(),this.fieldEditor.setInEditMode(!0),this.unitEditor.setInEditMode(!0)):(this.ctx.showEditTools,e.hide(),i.hide(),n.show(),a.show(),this.fieldEditor.setInEditMode(!1),this.unitEditor.setInEditMode(!1))},showRowModal:function(){this.fieldEditor.showRowModal(this.ctx.catalog,this.ctx.entity)},_buildColumnName:function(t,e,i){const n=[];return t&&"N/A"!==t&&n.push(`\`${t}\``),e&&"N/A"!==e&&n.push(`\`${e}\``),i&&"N/A"!==i&&n.push(`\`${i}\``),n.join(".")},showRefineModal:function(t,e,i){const n=this.ctx.mql&&"N/A"!==this.ctx.mql,a=b(n?this.ctx.mql:this.ctx.sql,this.ctx.listOfFieldDescriptions[this.ctx.currentTabIndex],n),s=this._buildColumnName(a.ALIASES[i].catalog,a.ALIASES[i].tableAlias,a.ALIASES[i].field),o=$("#C48564EA_A64D_98BA_6232_D03D524CAD08"),r=$("#F114E547_5E78_72D9_BB7F_355CDBB3D03A");o.find("#E7014B57_B16A_7593_FA1B_0DD15C15AC3E").text(s),o.find("#F3A040E1_40EE_97B3_45D6_E7BFB61DBF44").val(s),o.find("#CAF8B5EB_1796_3837_5722_3B5B2A7C729B").hide(),o.find("#A24427DD_0DCB_3AC8_4A3E_A75D79FAA8F7").hide(),o.find("form")[0].reset(),r.off().submit((t=>{t.preventDefault(),this.refineResult()})),o.modal("show")},refineResult:function(t,e,i){const n=$("#C48564EA_A64D_98BA_6232_D03D524CAD08"),a=$("#F114E547_5E78_72D9_BB7F_355CDBB3D03A"),s=t||a.find('select[name="filter"]').val();let o,r=e||a.find('input[name="x"]').val(),l=i||a.find('input[name="y"]').val(),d=a.find('input[name="y1"]').val(),c=a.find('input[name="y2"]').val();switch(l=l.replace(/'/g,"''"),d=d.replace(/'/g,"''"),c=c.replace(/'/g,"''"),s){case"0":o=`${r} IS NULL`;break;case"1":o=`${r} IS NOT NULL`;break;case"2":o=`${r} = '${l}'`;break;case"3":o=`${r} != '${l}'`;break;case"4":o=`${r} LIKE '${l}'`;break;case"5":o=`${r} NOT LIKE '${l}'`;break;case"6":o=`${r} < '${l}'`;break;case"7":o=`${r} <= '${l}'`;break;case"8":o=`${r} > '${l}'`;break;case"9":o=`${r} >= '${l}'`;break;case"10":o=`${r} BETWEEN '${d}' AND '${c}'`;break;case"11":o=`${r} NOT BETWEEN '${d}' AND '${c}'`;break;default:return}n.modal("hide");const p=this.ctx.mql&&"N/A"!==this.ctx.mql,h=b(p?this.ctx.mql:this.ctx.sql,this.ctx.listOfFieldDescriptions[this.ctx.currentTabIndex],p);h.WHERE?h.WHERE+=` AND ${o}`:h.WHERE=o;const f=[];h.SELECT&&f.push(`SELECT ${h.SELECT}`),h.FROM&&f.push(`FROM ${h.FROM}`),h.WHERE&&f.push(`WHERE ${h.WHERE}`);const m=`BrowseQuery -catalog="${amiWebApp.textToString(this.ctx.catalog)}" -entity="${amiWebApp.textToString(this.ctx.entity)}" -${p?"mql":"sql"}="${amiWebApp.textToString(f.join(" "))}"`;amiWebApp.createControlInContainer(this.getParent(),this,"table",[m],{},this.ctx,"table",this.ctx.entity)},showStatsTab:function(t,e,i){const n=this.ctx.mql&&"N/A"!==this.ctx.mql,a=b(n?this.ctx.mql:this.ctx.sql,this.ctx.listOfFieldDescriptions[this.ctx.currentTabIndex],n),s=this._buildColumnName(a.ALIASES[i].catalog,a.ALIASES[i].tableAlias,a.ALIASES[i].field);a.SELECT=`'${s.replace(/'/g,"''")}' AS \`field\`, MIN(${s}) AS \`min\`, MAX(${s}) AS \`max\`, SUM(${s}) AS \`sum\`, AVG(${s}) AS \`avg\`, STDDEV(${s}) AS \`stddev\`, COUNT(${s}) AS \`count\``;const o=[];a.SELECT&&o.push(`SELECT ${a.SELECT}`),a.FROM&&o.push(`FROM ${a.FROM}`),a.WHERE&&o.push(`WHERE ${a.WHERE}`);const r=`BrowseQuery -catalog="${amiWebApp.textToString(this.ctx.catalog)}" -entity="${amiWebApp.textToString(this.ctx.entity)}" -${n?"mql":"sql"}="${amiWebApp.textToString(o.join(" "))}"`;amiWebApp.createControlInContainer(this.getParent(),this,"table",[r],{orderBy:"",orderWay:"",showDetails:!1},this.ctx,"superscript",this.ctx.entity)},showHistTab:function(t,e,i,n){const a=b(this.ctx.sql,this.ctx.listOfFieldDescriptions[this.ctx.currentTabIndex]),s=`Histogram -catalog="${amiWebApp.textToString(t)}" -entity="${amiWebApp.textToString(e)}" -field="${amiWebApp.textToString(i)}" -where="${amiWebApp.textToString(a.WHERE)}"`;amiWebApp.createControlInContainer(this.getParent(),this,"histogram",[s],{height:600,width:800},this.ctx,"bar-chart",this.ctx.entity)},showGroupTab:function(t,e,i){const n=this.ctx.mql&&"N/A"!==this.ctx.mql,a=b(n?this.ctx.mql:this.ctx.sql,this.ctx.listOfFieldDescriptions[this.ctx.currentTabIndex],n),s=this._buildColumnName(a.ALIASES[i].catalog,a.ALIASES[i].tableAlias,a.ALIASES[i].field);a.SELECT=`${s}, count(*) AS \`total\`, CONCAT('@OWNER::${s}::', ${s}) AS \`go\``,a.GROUP=s;const o=[];if(a.SELECT&&o.push(`SELECT ${a.SELECT}`),a.FROM&&o.push(`FROM ${a.FROM}`),a.WHERE&&o.push(`WHERE ${a.WHERE}`),a.GROUP){const t=a.GROUP.replace(e,a.ALIASES[i].tableAlias).trim();o.push(`GROUP BY ${t.startsWith("`")&&t.endsWith("`")?t:`\`${t.replace(/`/g,"``")}\``}`)}const r=`BrowseQuery -catalog="${amiWebApp.textToString(this.ctx.catalog)}" -entity="${amiWebApp.textToString(this.ctx.entity)}" -${n?"mql":"sql"}="${amiWebApp.textToString(o.join(" "))}"`;amiWebApp.createControlInContainer(this.getParent(),this,"table",[r],{orderBy:s,orderWay:"ASC",showDetails:!1},this.ctx,"slack",this.ctx.entity)}})})()})();