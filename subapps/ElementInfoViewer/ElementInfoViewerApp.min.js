(()=>{"use strict";$AMIClass("ElementInfoViewerApp",{$extends:ami.SubApp,$init:function(){this.$super.$init()},onReady:function(){const e=$.Deferred();return amiWebApp.loadResources(["ctrl:elementInfo"]).done(t=>{amiWebApp.replaceHTML("#ami_main_content",'<div class="px-3 pb-2" id="AAE69442_E2AB_D572_F662_A3F519B8E5AC"></div>\n').done(()=>{this._elementInfo=new t[0],e.resolve()})}).fail(t=>{e.reject(t)}),e},onLogin:function(e){const t=$.Deferred();let i;try{i=JSON.parse(e||"{}")}catch(e){i={}}return this.setupCtx({showDetails:!0,card:!0},null,i),this.ctx.catalog&&this.ctx.entity&&this.ctx.primaryFieldName&&this.ctx.primaryFieldValue?this._elementInfo.render("#AAE69442_E2AB_D572_F662_A3F519B8E5AC",this.ctx.catalog,this.ctx.entity,this.ctx.primaryFieldName,this.ctx.primaryFieldValue,this.ctx).done(()=>{amiWebApp.flush(),t.resolve()}).fail(e=>{t.reject(e)}):t.reject("Missing parameters: catalog, entity, primaryFieldName, primaryFieldValue"),t},onLogout:function(){$("#AAE69442_E2AB_D572_F662_A3F519B8E5AC").html("Please sign-in.")}}),window.elementInfoViewerApp=new ElementInfoViewerApp})();