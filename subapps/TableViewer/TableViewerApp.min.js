(()=>{"use strict";$AMIClass("TableViewerApp",{$extends:ami.SubApp,$init:function(){this.$super.$init()},onReady:function(){const e=$.Deferred();return amiWebApp.loadResources(["ctrl:table"]).done(t=>{amiWebApp.replaceHTML("#ami_main_content",'<div class="px-3 pb-2" id="A2944C0A_9249_E4D2_3679_494C1A3AAAF0"></div>\n').done(()=>{this._table=new t[0],e.resolve()})}).fail(t=>{e.reject(t)}),e},onLogin:function(e){const t=$.Deferred();let i;try{i=JSON.parse(e||"{}")}catch(e){i={}}this.setupCtx({showDetails:!0,card:!0},null,i);const n=(this.ctx.command||"").trim(),r=(this.ctx.catalog||"").trim(),s=(this.ctx.entity||"").trim(),a=(this.ctx.expression||"").trim();return n||r&&s?this._table.render("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0",n||`BrowseQuery -catalog="${amiWebApp.textToString(r)}" -entity="${amiWebApp.textToString(s)}" -mql="SELECT * WHERE ${amiWebApp.textToString(a)||"1 = 1"}"`,this.ctx).done(()=>{amiWebApp.flush(),t.resolve()}).fail(e=>{t.reject(e)}):t.reject("Missing parameters: catalog, entity"),t},onLogout:function(){$("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0").html("Please sign-in.")}}),window.tableViewerApp=new TableViewerApp})();